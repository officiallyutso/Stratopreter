function handleButtonClick(e){isRefreshing||(isRefreshing=!0,setTimeout((()=>{ScrollTrigger.refresh({safe:!0}),document.getElementById("works-heading").scrollIntoView({behavior:"smooth"})}),50),allFilterButtons.forEach((e=>{e.classList.remove("is--active")})),e.currentTarget.classList.add("is--active"),setTimeout((()=>{isRefreshing=!1}),50))}function createWorkAnimations(){gsap.utils.toArray(".work").forEach((e=>{gsap.set(e,{y:"17%",scaleY:1.2,opacity:1});gsap.to(e,{scrollTrigger:{trigger:e,start:"top 90%",markers:!1,toggleActions:"play complete none reset"},duration:1.5,y:"0%",scaleY:1,ease:"power3.out"})})),ScrollTrigger.refresh()}const allFilterButtons=document.querySelectorAll(".filter-button"),filterButtons=document.querySelectorAll(".filter-button:not(.all)");filterButtons.forEach((e=>{const t=e.querySelector(".h4").textContent.trim(),r=document.querySelectorAll(".category-counter_text");let o=0;r.forEach((e=>{e.textContent.trim()===t&&o++}));const l=e.querySelector(".filter-count");l&&(l.textContent=o)}));const allWorksCount=document.querySelectorAll(".work").length,filterCountAllWorksElement=document.querySelector(".filter-count_all-works");filterCountAllWorksElement&&(filterCountAllWorksElement.textContent=allWorksCount);let isRefreshing=!1;allFilterButtons.forEach((e=>{e.addEventListener("click",handleButtonClick)}));const linedivTl=gsap.timeline(),dividers=document.querySelectorAll(".line-divider");gsap.set(dividers,{opacity:1}),dividers.length>=3&&(linedivTl.from(dividers[0],{scaleX:0,duration:.3}),linedivTl.from(dividers[1],{scaleX:0,duration:.1}),linedivTl.from(dividers[2],{scaleX:0,duration:.9})),gsap.to(".filter-button",{opacity:1,duration:1.8,stagger:{each:.1,from:"random"},ease:"elastic.out(1,0.1)"},"<"),createWorkAnimations();